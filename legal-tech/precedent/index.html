<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>æ³•å‹™precedentæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ - kusasyu tools</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,sans-serif;background:#f0f2f5;color:#1a1a2e}
.header{background:linear-gradient(135deg,#1a1a2e,#16213e);color:#fff;padding:12px 20px;display:flex;align-items:center;flex-wrap:wrap;gap:8px}
.header h1{font-size:1.1rem;flex:1}
.header button{background:#e94560;color:#fff;border:none;padding:6px 14px;border-radius:4px;cursor:pointer;font-size:.85rem}
.header button.sec{background:#0f3460}
.cap-warn{padding:4px 12px;font-size:.8rem;text-align:center;font-weight:700;display:none}
.cap-yellow{background:#fff3cd;color:#856404;display:block}
.cap-red{background:#f8d7da;color:#721c24;display:block}
.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:99}
.modal{background:#fff;border-radius:8px;padding:24px;max-width:460px;width:90%;text-align:center}
.modal h2{margin-bottom:12px;color:#e94560}
.modal p{font-size:.9rem;line-height:1.6;margin-bottom:16px;text-align:left}
.modal button{background:#1a1a2e;color:#fff;border:none;padding:8px 24px;border-radius:4px;cursor:pointer}
.container{max-width:960px;margin:0 auto;padding:16px}
.card{background:#fff;border-radius:8px;padding:16px;margin-bottom:12px;box-shadow:0 1px 3px rgba(0,0,0,.1)}
.card h2{font-size:1rem;margin-bottom:10px;color:#16213e;border-bottom:2px solid #e94560;padding-bottom:4px}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
@media(max-width:600px){.form-grid{grid-template-columns:1fr}}
.form-grid label{font-size:.8rem;font-weight:600;display:block;margin-bottom:2px}
.form-grid input,.form-grid select,.form-grid textarea{width:100%;padding:6px 8px;border:1px solid #ccc;border-radius:4px;font-size:.85rem}
.form-grid textarea{resize:vertical;height:50px}
.form-grid .full{grid-column:1/-1}
.btn{background:#e94560;color:#fff;border:none;padding:8px 20px;border-radius:4px;cursor:pointer;font-size:.9rem;margin-top:8px}
.btn.g{background:#0f3460}
.search-bar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.search-bar input,.search-bar select{padding:6px 8px;border:1px solid #ccc;border-radius:4px;font-size:.85rem;flex:1;min-width:120px}
.result-item{border:1px solid #e0e0e0;border-radius:6px;padding:10px;margin-bottom:8px}
.result-item h3{font-size:.9rem;color:#e94560;margin-bottom:4px}
.result-item p{font-size:.8rem;line-height:1.5;color:#444}
.result-item .meta{font-size:.75rem;color:#888;margin-top:4px}
.result-item .del{float:right;background:none;border:none;color:#e94560;cursor:pointer;font-size:.8rem}
.stats{font-size:.8rem;color:#666;margin-bottom:8px}
.hidden{display:none}
input[type=file]{display:none}
</style>
<meta name="description" content="æ³•å‹™éƒ¨é–€ãŒéå»ã®å¥‘ç´„äº¤æ¸‰ãƒ»æ³•çš„åˆ¤æ–­ã®precedentï¼ˆå…ˆä¾‹ï¼‰ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»æ¡é …ã‚¿ã‚¤ãƒ—ã§å³åº§ã«æ¤œç´¢ã§ãã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¨ã€AIå­”æ˜ãƒ»CorporateOnç­‰ã®æ—¢å­˜SaaSã¨è‡ªç¤¾æ§‹ç¯‰RAGã®è²»ç”¨å¯¾åŠ¹æœã‚’æ¯”è¼ƒã™ã‚‹ROIè¨ˆç®—ãƒ„ãƒ¼ãƒ«ã€åŠã³æ—¥ã€…ã®åˆ¤æ–­ã‚’æ§‹é€ åŒ–è“„ç©ã™ã‚‹Excelå°å¸³ã‚’æä¾›ã€‚å‰å›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆLe">
<meta name="keywords" content="ãƒªãƒ¼ã‚¬ãƒ«ãƒ†ãƒƒã‚¯,æ³•å‹™AI,å¥‘ç´„æ›¸,è¨´è¨Ÿ,ç„¡æ–™,æ³•å‹™precedentæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³">
<link rel="canonical" href="https://kusasyu36.github.io/kusasyu-tools/legal-tech/precedent/">
<meta property="og:title" content="æ³•å‹™precedentæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ - kusasyu tools">
<meta property="og:description" content="æ³•å‹™éƒ¨é–€ãŒéå»ã®å¥‘ç´„äº¤æ¸‰ãƒ»æ³•çš„åˆ¤æ–­ã®precedentï¼ˆå…ˆä¾‹ï¼‰ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»æ¡é …ã‚¿ã‚¤ãƒ—ã§å³åº§ã«æ¤œç´¢ã§ãã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¨ã€AIå­”æ˜ãƒ»CorporateOnç­‰ã®æ—¢å­˜SaaSã¨è‡ªç¤¾æ§‹ç¯‰RAGã®è²»ç”¨å¯¾åŠ¹æœã‚’æ¯”è¼ƒã™ã‚‹ROIè¨ˆç®—ãƒ„ãƒ¼ãƒ«ã€åŠã³æ—¥ã€…ã®åˆ¤æ–­ã‚’æ§‹é€ åŒ–è“„ç©ã™ã‚‹Excelå°å¸³ã‚’æä¾›ã€‚å‰å›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆLe">
<meta property="og:url" content="https://kusasyu36.github.io/kusasyu-tools/legal-tech/precedent/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="kusasyu tools">
<meta property="og:locale" content="ja_JP">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ³•å‹™precedentæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ - kusasyu tools">
<meta name="twitter:description" content="æ³•å‹™éƒ¨é–€ãŒéå»ã®å¥‘ç´„äº¤æ¸‰ãƒ»æ³•çš„åˆ¤æ–­ã®precedentï¼ˆå…ˆä¾‹ï¼‰ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»æ¡é …ã‚¿ã‚¤ãƒ—ã§å³åº§ã«æ¤œç´¢ã§ãã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¨ã€AIå­”æ˜ãƒ»CorporateOnç­‰ã®æ—¢å­˜SaaSã¨è‡ªç¤¾æ§‹ç¯‰RAGã®è²»ç”¨å¯¾åŠ¹æœã‚’æ¯”è¼ƒã™ã‚‹ROIè¨ˆç®—ãƒ„ãƒ¼ãƒ«ã€åŠã³æ—¥ã€…ã®åˆ¤æ–­ã‚’æ§‹é€ åŒ–è“„ç©ã™ã‚‹Excelå°å¸³ã‚’æä¾›ã€‚å‰å›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆLe">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "æ³•å‹™precedentæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³",
  "description": "æ³•å‹™éƒ¨é–€ãŒéå»ã®å¥‘ç´„äº¤æ¸‰ãƒ»æ³•çš„åˆ¤æ–­ã®precedentï¼ˆå…ˆä¾‹ï¼‰ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»æ¡é …ã‚¿ã‚¤ãƒ—ã§å³åº§ã«æ¤œç´¢ã§ãã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¨ã€AIå­”æ˜ãƒ»CorporateOnç­‰ã®æ—¢å­˜SaaSã¨è‡ªç¤¾æ§‹ç¯‰RAGã®è²»ç”¨å¯¾åŠ¹æœã‚’æ¯”è¼ƒã™ã‚‹ROIè¨ˆç®—ãƒ„ãƒ¼ãƒ«ã€åŠã³æ—¥ã€…ã®åˆ¤æ–­ã‚’æ§‹é€ åŒ–è“„ç©ã™ã‚‹Excelå°å¸³ã‚’æä¾›ã€‚å‰å›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆLe",
  "url": "https://kusasyu36.github.io/kusasyu-tools/legal-tech/precedent/",
  "applicationCategory": "BusinessApplication",
  "operatingSystem": "Web Browser",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "JPY"
  },
  "author": {
    "@type": "Organization",
    "name": "kusasyu Legal Tech"
  }
}
</script>
<!-- Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MDQEPV7SFL"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MDQEPV7SFL');
</script>
<!-- GoatCounter -->
<script data-goatcounter="https://kusasyu-tools.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
<meta name="google-site-verification" content="M4f5luvPZKX1D7Buz2qwSDBAfrv4xthn6dyZBPXcg-c">
</head>
<body>
<div class="header">
<h1>PrecedentDB</h1>
<button class="sec" onclick="exportCSV()">CSVå‡ºåŠ›</button>
<button class="sec" onclick="document.getElementById('csvFile').click()">CSVå–è¾¼</button>
<input type="file" id="csvFile" accept=".csv" onchange="importCSV(event)">
<button onclick="toggleForm()">ï¼‹ æ–°è¦ç™»éŒ²</button>
</div>
<div id="capWarn" class="cap-warn"></div>
<div id="modal" class="modal-overlay hidden">
<div class="modal">
<h2>ã”åˆ©ç”¨ä¸Šã®æ³¨æ„</h2>
<p>æœ¬ãƒ„ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã¯<strong>ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶å›ºæœ‰ã®LocalStorage</strong>ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚ä»–ã®PCãƒ»ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚<br><br>ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ãƒªã‚¹ã‚¯ã«å‚™ãˆã€<strong>å®šæœŸçš„ãªCSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’å¼·ãæ¨å¥¨</strong>ã—ã¾ã™ã€‚</p>
<button onclick="closeModal()">ç†è§£ã—ã¾ã—ãŸ</button>
</div>
</div>
<div class="container">
<div id="regCard" class="card hidden">
<h2>åˆ¤æ–­å…ˆä¾‹ã®ç™»éŒ²</h2>
<div class="form-grid">
<div><label>å¥‘ç´„ç¨®åˆ¥</label><select id="fType"><option>ç§˜å¯†ä¿æŒå¥‘ç´„(NDA)</option><option>æ¥­å‹™å§”è¨—å¥‘ç´„</option><option>å£²è²·å¥‘ç´„</option><option>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¥‘ç´„</option><option>å…±åŒé–‹ç™ºå¥‘ç´„</option><option>ãã®ä»–</option></select></div>
<div><label>æ¡é …ã‚¿ã‚¤ãƒ—</label><select id="fClause"><option>ç§˜å¯†ä¿æŒ</option><option>æå®³è³ å„Ÿ</option><option>ç«¶æ¥­é¿æ­¢</option><option>è§£é™¤æ¡é …</option><option>æº–æ‹ æ³•ãƒ»ç®¡è½„</option><option>çŸ¥çš„è²¡ç”£</option><option>ä¿è¨¼ãƒ»è¡¨æ˜</option><option>ãã®ä»–</option></select></div>
<div class="full"><label>åˆ¤æ–­å†…å®¹</label><textarea id="fContent" placeholder="ä¾‹: æå®³è³ å„Ÿä¸Šé™ã‚’å¥‘ç´„é‡‘é¡ã®100%ã«è¨­å®š"></textarea></div>
<div class="full"><label>åˆ¤æ–­ç†ç”±</label><textarea id="fReason" placeholder="ä¾‹: éå»ã«ä¸Šé™ãªã—ã§é«˜é¡è«‹æ±‚ã‚’å—ã‘ãŸäº‹ä¾‹ãŒã‚ã£ãŸãŸã‚"></textarea></div>
<div><label>åˆ¤æ–­è€…</label><input id="fJudge" placeholder="ä¾‹: ä½è—¤éƒ¨é•·"></div>
<div><label>æ—¥ä»˜</label><input type="date" id="fDate"></div>
</div>
<button class="btn" onclick="addRecord()">ç™»éŒ²</button>
<button class="btn g" onclick="toggleForm()">é–‰ã˜ã‚‹</button>
</div>
<div class="card">
<h2>å…ˆä¾‹æ¤œç´¢</h2>
<div class="search-bar">
<input id="sKey" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢" oninput="search()">
<select id="sType" onchange="search()"><option value="">å…¨å¥‘ç´„ç¨®åˆ¥</option><option>ç§˜å¯†ä¿æŒå¥‘ç´„(NDA)</option><option>æ¥­å‹™å§”è¨—å¥‘ç´„</option><option>å£²è²·å¥‘ç´„</option><option>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¥‘ç´„</option><option>å…±åŒé–‹ç™ºå¥‘ç´„</option><option>ãã®ä»–</option></select>
<select id="sClause" onchange="search()"><option value="">å…¨æ¡é …ã‚¿ã‚¤ãƒ—</option><option>ç§˜å¯†ä¿æŒ</option><option>æå®³è³ å„Ÿ</option><option>ç«¶æ¥­é¿æ­¢</option><option>è§£é™¤æ¡é …</option><option>æº–æ‹ æ³•ãƒ»ç®¡è½„</option><option>çŸ¥çš„è²¡ç”£</option><option>ä¿è¨¼ãƒ»è¡¨æ˜</option><option>ãã®ä»–</option></select>
</div>
<div class="stats" id="stats"></div>
<div id="results"></div>
</div>
</div>
<script>
const STORE='precedentDB',SHOWN='precedentDBShown';
let data=JSON.parse(localStorage.getItem(STORE)||'[]');
function init(){
if(!localStorage.getItem(SHOWN)){document.getElementById('modal').classList.remove('hidden')}
if(!data.length){loadSample()}
search();checkCap()
}
function closeModal(){document.getElementById('modal').classList.add('hidden');localStorage.setItem(SHOWN,'1')}
function loadSample(){
data=[
{id:1,type:'ç§˜å¯†ä¿æŒå¥‘ç´„(NDA)',clause:'ç§˜å¯†ä¿æŒ',content:'ç§˜å¯†ä¿æŒæœŸé–“ã‚’å¥‘ç´„çµ‚äº†å¾Œ3å¹´é–“ã«è¨­å®šã€‚å—é ˜è€…ã®å½¹è·å“¡ä»¥å¤–ã¸ã®é–‹ç¤ºã‚’ç¦æ­¢ã—ã€é•åæ™‚ã®æå®³è³ å„Ÿæ¡é …ã‚’æ˜è¨˜',reason:'æ¥­ç•Œæ¨™æº–ã¯1ã€œ5å¹´ã€‚éå»ã«æœŸé™ãªã—ã¨ã—ã¦ç´›äº‰ã«ãªã£ãŸäº‹ä¾‹ã‚’è¸ã¾ãˆ3å¹´ã«çµ±ä¸€',judge:'ç”°ä¸­æ³•å‹™éƒ¨é•·',date:'2025-08-15'},
{id:2,type:'æ¥­å‹™å§”è¨—å¥‘ç´„',clause:'æå®³è³ å„Ÿ',content:'æå®³è³ å„Ÿã®ä¸Šé™é¡ã‚’å§”è¨—æ–™ç·é¡ã®100%ã«åˆ¶é™ã€‚é–“æ¥æå®³ãƒ»é€¸å¤±åˆ©ç›Šã¯ç›¸äº’ã«å…è²¬',reason:'ä¸Šé™ãªã—ã®å¥‘ç´„ã§æƒ³å®šå¤–ã®é«˜é¡è«‹æ±‚ã‚’å—ã‘ãŸéå»äº‹ä¾‹ãŒã‚ã‚Šã€ãƒªã‚¹ã‚¯ä¸Šé™ã®æ˜ç¢ºåŒ–ãŒå¿…è¦ã¨åˆ¤æ–­',judge:'ä½è—¤ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼',date:'2025-09-22'},
{id:3,type:'æ¥­å‹™å§”è¨—å¥‘ç´„',clause:'ç«¶æ¥­é¿æ­¢',content:'å¥‘ç´„æœŸé–“ä¸­ãŠã‚ˆã³çµ‚äº†å¾Œ1å¹´é–“ã€åŒä¸€æ¥­ç¨®ã®ç«¶åˆä»–ç¤¾ã¸ã®åŒç¨®æ¥­å‹™æä¾›ã‚’ç¦æ­¢',reason:'å‰å›å§”è¨—å…ˆãŒåœ¨ä»»ä¸­ã«ç«¶åˆæ¡ˆä»¶ã‚’å—è¨—ã—æƒ…å ±æ¼æ´©ãƒªã‚¹ã‚¯ãŒç™ºç”Ÿã€‚æœŸé–“1å¹´ã¯åˆ¤ä¾‹ä¸Šæœ‰åŠ¹ã¨èªã‚ã‚‰ã‚Œã‚„ã™ã„ä¸Šé™',judge:'ç”°ä¸­æ³•å‹™éƒ¨é•·',date:'2025-11-05'},
{id:4,type:'å£²è²·å¥‘ç´„',clause:'è§£é™¤æ¡é …',content:'å‚¬å‘Šè§£é™¤ã¯æ›¸é¢é€šçŸ¥å¾Œ30æ—¥ã®æ˜¯æ­£æœŸé–“ã‚’è¨­å®šã€‚é‡å¤§ãªå¥‘ç´„é•åï¼ˆåç¤¾ä¼šçš„å‹¢åŠ›è©²å½“ã€ç ´ç”£ç”³ç«‹ç­‰ï¼‰ã¯ç„¡å‚¬å‘Šå³æ™‚è§£é™¤',reason:'å£é ­å‚¬å‘Šã§ã¯è¨¼æ‹ ãŒæ®‹ã‚‰ãšç´›äº‰ãƒªã‚¹ã‚¯ãŒé«˜ã„ã€‚æ˜¯æ­£æœŸé–“30æ—¥ã¯å–å¼•æ…£è¡Œä¸Šåˆç†çš„ã¨åˆ¤æ–­',judge:'éˆ´æœ¨ãƒªãƒ¼ãƒ€ãƒ¼',date:'2026-01-10'},
{id:5,type:'ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¥‘ç´„',clause:'æº–æ‹ æ³•ãƒ»ç®¡è½„',content:'æº–æ‹ æ³•ã‚’æ—¥æœ¬æ³•ã€ç¬¬ä¸€å¯©ã®å°‚å±çš„åˆæ„ç®¡è½„ã‚’æ±äº¬åœ°æ–¹è£åˆ¤æ‰€ã«æŒ‡å®š',reason:'å½“ç¤¾æœ¬åº—ãŒæ±äº¬æ‰€åœ¨ã®ãŸã‚è¨´è¨Ÿã‚³ã‚¹ãƒˆæœ€å°åŒ–ã€‚æµ·å¤–å–å¼•å…ˆã¨ã®äº¤æ¸‰ã§ã¯ä»²è£æ¡é …ï¼ˆJCAAï¼‰ã‚’åˆ¥é€”æ¤œè¨',judge:'ä½è—¤ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼',date:'2026-02-01'}
];save()
}
function save(){localStorage.setItem(STORE,JSON.stringify(data));checkCap()}
function checkCap(){
const w=document.getElementById('capWarn'),n=data.length;
w.className='cap-warn';w.style.display='none';
if(n>800){w.textContent='âš  ç™»éŒ²ä»¶æ•° '+n+'/1000ä»¶ â€” å®¹é‡ä¸Šé™ã«è¿‘ã¥ã„ã¦ã„ã¾ã™ã€‚CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå¾Œã«å¤ã„ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ã‚’æ¤œè¨ã—ã¦ãã ã•ã„';w.classList.add('cap-red')}
else if(n>500){w.textContent='ğŸ“¦ ç™»éŒ²ä»¶æ•° '+n+'/1000ä»¶ â€” å®šæœŸçš„ãªCSVãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æ¨å¥¨ã—ã¾ã™';w.classList.add('cap-yellow')}
}
function toggleForm(){document.getElementById('regCard').classList.toggle('hidden')}
function addRecord(){
const c=document.getElementById('fContent').value.trim();
if(!c){alert('åˆ¤æ–­å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');return}
const r={id:Date.now(),type:document.getElementById('fType').value,clause:document.getElementById('fClause').value,content:c,reason:document.getElementById('fReason').value.trim(),judge:document.getElementById('fJudge').value.trim()||'æœªè¨˜å…¥',date:document.getElementById('fDate').value||new Date().toISOString().slice(0,10)};
data.unshift(r);save();
document.getElementById('fContent').value='';document.getElementById('fReason').value='';document.getElementById('fJudge').value='';
search();toggleForm()
}
function delRecord(id){if(confirm('ã“ã®å…ˆä¾‹ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')){data=data.filter(r=>r.id!==id);save();search()}}
function search(){
const k=document.getElementById('sKey').value.toLowerCase(),t=document.getElementById('sType').value,cl=document.getElementById('sClause').value;
let f=data.filter(r=>{
if(t&&r.type!==t)return false;
if(cl&&r.clause!==cl)return false;
if(k){const s=(r.content+r.reason+r.judge+r.type+r.clause).toLowerCase();if(!s.includes(k))return false}
return true
});
document.getElementById('stats').textContent='æ¤œç´¢çµæœ: '+f.length+'ä»¶ / å…¨'+data.length+'ä»¶';
const box=document.getElementById('results');
if(!f.length){box.innerHTML='<p style="color:#888;text-align:center;padding:20px">è©²å½“ã™ã‚‹å…ˆä¾‹ãŒã‚ã‚Šã¾ã›ã‚“</p>';return}
box.innerHTML=f.map(r=>'<div class="result-item"><button class="del" onclick="delRecord('+r.id+')">å‰Šé™¤</button><h3>ã€'+r.clause+'ã€‘'+r.type+'</h3><p><strong>åˆ¤æ–­:</strong> '+esc(r.content)+'</p>'+(r.reason?'<p><strong>ç†ç”±:</strong> '+esc(r.reason)+'</p>':'')+'<div class="meta">ğŸ‘¤ '+esc(r.judge)+' ï½œ ğŸ“… '+r.date+'</div></div>').join('')
}
function esc(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}
function exportCSV(){
let csv='\uFEFF"ID","å¥‘ç´„ç¨®åˆ¥","æ¡é …ã‚¿ã‚¤ãƒ—","åˆ¤æ–­å†…å®¹","åˆ¤æ–­ç†ç”±","åˆ¤æ–­è€…","æ—¥ä»˜"\n';
data.forEach(r=>{csv+='"'+r.id+'","'+q(r.type)+'","'+q(r.clause)+'","'+q(r.content)+'","'+q(r.reason)+'","'+q(r.judge)+'","'+r.date+'"\n'});
const a=document.createElement('a');a.href='data:text/csv;charset=utf-8,'+encodeURIComponent(csv);
a.download='precedent_'+new Date().toISOString().slice(0,10)+'.csv';a.click()
}
function q(s){return (s||'').replace(/"/g,'""')}
function importCSV(e){
const f=e.target.files[0];if(!f)return;
const reader=new FileReader();
reader.onload=function(ev){
const lines=ev.target.result.split('\n').filter(l=>l.trim());
let count=0;
for(let i=1;i<lines.length;i++){
const m=lines[i].match(/(?:^|,)(?:"([^"]*(?:""[^"]*)*)"|([^,]*))/g);
if(!m||m.length<7)continue;
const p=m.map(v=>v.replace(/^,?"?|"?$/g,'').replace(/""/g,'"'));
data.unshift({id:Date.now()+i,type:p[1]||'ãã®ä»–',clause:p[2]||'ãã®ä»–',content:p[3]||'',reason:p[4]||'',judge:p[5]||'æœªè¨˜å…¥',date:p[6]||new Date().toISOString().slice(0,10)});
count++
}
save();search();alert(count+'ä»¶ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ');
};reader.readAsText(f,'UTF-8');e.target.value=''
}
document.getElementById('fDate').value=new Date().toISOString().slice(0,10);
init();
</script>
</body>
</html>