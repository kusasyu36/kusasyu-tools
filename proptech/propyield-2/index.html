<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>è³ƒæ–™å€¤ä¸Šã’ä½™åœ°è¨ºæ–­ï¼†è¨­å‚™æŠ•è³‡ROIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆé™çš„ç›¸å ´ãƒ†ãƒ¼ãƒ–ãƒ«æ–¹å¼ï¼‰ - kusasyu tools</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,"Hiragino Sans",sans-serif;background:#f5f7fa;color:#1a1a2e;line-height:1.6}
.wrap{max-width:840px;margin:0 auto;padding:16px}
header{background:linear-gradient(135deg,#0f3460,#16213e);color:#fff;padding:24px;border-radius:12px;margin-bottom:24px;text-align:center}
header h1{font-size:1.5rem;margin-bottom:4px}
header p{font-size:.85rem;opacity:.8}
.card{background:#fff;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 2px 8px rgba(0,0,0,.07)}
.card h2{font-size:1.1rem;color:#0f3460;border-left:4px solid #e94560;padding-left:10px;margin-bottom:16px}
label{display:block;font-size:.85rem;font-weight:600;margin-bottom:4px;color:#333}
select,input[type=number]{width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:1rem;margin-bottom:12px;background:#fafbfc}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
button{background:#e94560;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-size:1rem;font-weight:700;cursor:pointer;width:100%;transition:.2s}
button:hover{background:#c73650}
.btn-sub{background:#0f3460}
.btn-sub:hover{background:#0a264a}
.result{background:#f0f4ff;border:2px solid #0f3460;border-radius:12px;padding:20px;margin-top:16px;display:none}
.result h3{color:#0f3460;margin-bottom:12px;font-size:1rem}
.metric{display:inline-block;text-align:center;background:#fff;border-radius:10px;padding:14px;margin:6px;min-width:120px;box-shadow:0 1px 4px rgba(0,0,0,.08)}
.metric .val{font-size:1.6rem;font-weight:800}
.metric .lbl{font-size:.75rem;color:#666}
.up{color:#e94560}.down{color:#2ecc71}.neutral{color:#f39c12}
.bar-wrap{background:#e0e0e0;border-radius:6px;height:18px;margin:6px 0;position:relative;overflow:hidden}
.bar-fill{height:100%;border-radius:6px;transition:width .4s}
.slider-row{margin-bottom:14px}
.slider-row input[type=range]{width:100%;accent-color:#0f3460}
.slider-val{font-size:.85rem;color:#0f3460;font-weight:700;float:right}
table{width:100%;border-collapse:collapse;font-size:.85rem;margin-top:10px}
th,td{padding:8px 6px;border-bottom:1px solid #eee;text-align:right}
th{background:#f5f7fa;text-align:center;font-weight:700;color:#0f3460}
td:first-child,th:first-child{text-align:left}
.tag{display:inline-block;padding:2px 8px;border-radius:4px;font-size:.75rem;font-weight:700;color:#fff}
.tag-up{background:#e94560}.tag-ok{background:#2ecc71}.tag-warn{background:#f39c12}
.note{font-size:.75rem;color:#888;margin-top:8px}
@media print{
body{background:#fff}
.no-print{display:none!important}
.card{box-shadow:none;border:1px solid #ddd;break-inside:avoid}
.result{display:block!important;border-color:#333}
}
@media(max-width:600px){
.grid2{grid-template-columns:1fr}
.metric{min-width:auto;width:calc(50% - 16px)}
}
</style>
<meta name="description" content="åŒºåˆ†ãƒãƒ³ã‚·ãƒ§ãƒ³3ã€œ20æˆ¸ã‚’ä¿æœ‰ã™ã‚‹å€‹äººæŠ•è³‡å®¶ã‚ªãƒ¼ãƒŠãƒ¼ãŒã€ç‰©ä»¶æƒ…å ±ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§â‘ å‘¨è¾ºç›¸å ´ã¨ã®è³ƒæ–™ä¹–é›¢ç‡ï¼†å€¤ä¸Šã’ä½™åœ°ã‚’è¨ºæ–­ã€â‘¡å®…é…ãƒœãƒƒã‚¯ã‚¹ãƒ»IoTãƒ­ãƒƒã‚¯ç­‰ã®è¨­å‚™æŠ•è³‡ROIã‚’è©¦ç®—ã€â‘¢è¤‡æ•°ç‰©ä»¶ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªå…¨ä½“ã®å¹´é–“åæ”¯ã‚’ä¸€å…ƒç®¡ç†ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆã€‚æ—¢å­˜ã®AIä¸å‹•ç”£ãƒ„ãƒ¼ãƒ«30é¸ï¼ˆgenerativeai.tok">
<meta name="keywords" content="ä¸å‹•ç”£ãƒ†ãƒƒã‚¯,PropTech,ä¸å‹•ç”£AI,ä¸å‹•ç”£ãƒ„ãƒ¼ãƒ«,ç„¡æ–™,è³ƒæ–™å€¤ä¸Šã’ä½™åœ°è¨ºæ–­ï¼†è¨­å‚™æŠ•è³‡ROIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆé™çš„ç›¸å ´ãƒ†ãƒ¼ãƒ–ãƒ«æ–¹å¼ï¼‰">
<link rel="canonical" href="https://kusasyu36.github.io/kusasyu-tools/proptech/propyield-2/">
<meta property="og:title" content="è³ƒæ–™å€¤ä¸Šã’ä½™åœ°è¨ºæ–­ï¼†è¨­å‚™æŠ•è³‡ROIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆé™çš„ç›¸å ´ãƒ†ãƒ¼ãƒ–ãƒ«æ–¹å¼ï¼‰ - kusasyu tools">
<meta property="og:description" content="åŒºåˆ†ãƒãƒ³ã‚·ãƒ§ãƒ³3ã€œ20æˆ¸ã‚’ä¿æœ‰ã™ã‚‹å€‹äººæŠ•è³‡å®¶ã‚ªãƒ¼ãƒŠãƒ¼ãŒã€ç‰©ä»¶æƒ…å ±ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§â‘ å‘¨è¾ºç›¸å ´ã¨ã®è³ƒæ–™ä¹–é›¢ç‡ï¼†å€¤ä¸Šã’ä½™åœ°ã‚’è¨ºæ–­ã€â‘¡å®…é…ãƒœãƒƒã‚¯ã‚¹ãƒ»IoTãƒ­ãƒƒã‚¯ç­‰ã®è¨­å‚™æŠ•è³‡ROIã‚’è©¦ç®—ã€â‘¢è¤‡æ•°ç‰©ä»¶ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªå…¨ä½“ã®å¹´é–“åæ”¯ã‚’ä¸€å…ƒç®¡ç†ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆã€‚æ—¢å­˜ã®AIä¸å‹•ç”£ãƒ„ãƒ¼ãƒ«30é¸ï¼ˆgenerativeai.tok">
<meta property="og:url" content="https://kusasyu36.github.io/kusasyu-tools/proptech/propyield-2/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="kusasyu tools">
<meta property="og:locale" content="ja_JP">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è³ƒæ–™å€¤ä¸Šã’ä½™åœ°è¨ºæ–­ï¼†è¨­å‚™æŠ•è³‡ROIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆé™çš„ç›¸å ´ãƒ†ãƒ¼ãƒ–ãƒ«æ–¹å¼ï¼‰ - kusasyu tools">
<meta name="twitter:description" content="åŒºåˆ†ãƒãƒ³ã‚·ãƒ§ãƒ³3ã€œ20æˆ¸ã‚’ä¿æœ‰ã™ã‚‹å€‹äººæŠ•è³‡å®¶ã‚ªãƒ¼ãƒŠãƒ¼ãŒã€ç‰©ä»¶æƒ…å ±ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§â‘ å‘¨è¾ºç›¸å ´ã¨ã®è³ƒæ–™ä¹–é›¢ç‡ï¼†å€¤ä¸Šã’ä½™åœ°ã‚’è¨ºæ–­ã€â‘¡å®…é…ãƒœãƒƒã‚¯ã‚¹ãƒ»IoTãƒ­ãƒƒã‚¯ç­‰ã®è¨­å‚™æŠ•è³‡ROIã‚’è©¦ç®—ã€â‘¢è¤‡æ•°ç‰©ä»¶ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªå…¨ä½“ã®å¹´é–“åæ”¯ã‚’ä¸€å…ƒç®¡ç†ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆã€‚æ—¢å­˜ã®AIä¸å‹•ç”£ãƒ„ãƒ¼ãƒ«30é¸ï¼ˆgenerativeai.tok">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "è³ƒæ–™å€¤ä¸Šã’ä½™åœ°è¨ºæ–­ï¼†è¨­å‚™æŠ•è³‡ROIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆé™çš„ç›¸å ´ãƒ†ãƒ¼ãƒ–ãƒ«æ–¹å¼ï¼‰",
  "description": "åŒºåˆ†ãƒãƒ³ã‚·ãƒ§ãƒ³3ã€œ20æˆ¸ã‚’ä¿æœ‰ã™ã‚‹å€‹äººæŠ•è³‡å®¶ã‚ªãƒ¼ãƒŠãƒ¼ãŒã€ç‰©ä»¶æƒ…å ±ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§â‘ å‘¨è¾ºç›¸å ´ã¨ã®è³ƒæ–™ä¹–é›¢ç‡ï¼†å€¤ä¸Šã’ä½™åœ°ã‚’è¨ºæ–­ã€â‘¡å®…é…ãƒœãƒƒã‚¯ã‚¹ãƒ»IoTãƒ­ãƒƒã‚¯ç­‰ã®è¨­å‚™æŠ•è³‡ROIã‚’è©¦ç®—ã€â‘¢è¤‡æ•°ç‰©ä»¶ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªå…¨ä½“ã®å¹´é–“åæ”¯ã‚’ä¸€å…ƒç®¡ç†ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆã€‚æ—¢å­˜ã®AIä¸å‹•ç”£ãƒ„ãƒ¼ãƒ«30é¸ï¼ˆgenerativeai.tok",
  "url": "https://kusasyu36.github.io/kusasyu-tools/proptech/propyield-2/",
  "applicationCategory": "BusinessApplication",
  "operatingSystem": "Web Browser",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "JPY"
  },
  "author": {
    "@type": "Organization",
    "name": "kusasyu PropTech"
  }
}
</script>
<!-- Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MDQEPV7SFL"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MDQEPV7SFL');
</script>
<!-- GoatCounter -->
<script data-goatcounter="https://kusasyu-tools.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
<meta name="google-site-verification" content="M4f5luvPZKX1D7Buz2qwSDBAfrv4xthn6dyZBPXcg-c">
</head>
<body>
<div class="wrap">
<header>
<h1>PropYield</h1>
<p>è³ƒæ–™å€¤ä¸Šã’ä½™åœ°è¨ºæ–­ï¼†è¨­å‚™æŠ•è³‡ROIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</p>
<p style="font-size:.7rem;margin-top:4px">ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼šå›½åœŸäº¤é€šçœ ä¸å‹•ç”£å–å¼•ä¾¡æ ¼æƒ…å ±ãƒ™ãƒ¼ã‚¹ï½œé™çš„ç›¸å ´ãƒ†ãƒ¼ãƒ–ãƒ« 2024å¹´åº¦ç‰ˆï¼ˆ2025å¹´3æœˆæ›´æ–°ï¼‰</p>
</header>

<div class="card">
<h2>â‘  è³ƒæ–™ä¹–é›¢è¨ºæ–­</h2>
<div class="grid2">
<div><label>ã‚¨ãƒªã‚¢</label><select id="area">
<optgroup label="æ±äº¬23åŒº">
<option value="T01">åƒä»£ç”°åŒº</option><option value="T02">ä¸­å¤®åŒº</option><option value="T03">æ¸¯åŒº</option>
<option value="T04">æ–°å®¿åŒº</option><option value="T05">æ¸‹è°·åŒº</option><option value="T06">æ–‡äº¬åŒº</option>
<option value="T07">è±Šå³¶åŒº</option><option value="T08">å°æ±åŒº</option><option value="T09">å¢¨ç”°åŒº</option>
<option value="T10">å“å·åŒº</option><option value="T11">ç›®é»’åŒº</option><option value="T12">å¤§ç”°åŒº</option>
<option value="T13">ä¸–ç”°è°·åŒº</option><option value="T14">ä¸­é‡åŒº</option><option value="T15">æ‰ä¸¦åŒº</option>
<option value="T16">ç·´é¦¬åŒº</option><option value="T17">æ¿æ©‹åŒº</option><option value="T18">åŒ—åŒº</option>
<option value="T19">è’å·åŒº</option><option value="T20">è¶³ç«‹åŒº</option><option value="T21">è‘›é£¾åŒº</option>
<option value="T22">æ±Ÿæˆ¸å·åŒº</option><option value="T23">æ±Ÿæ±åŒº</option>
</optgroup>
<optgroup label="å¤§é˜ªå¸‚">
<option value="O01">åŒ—åŒº</option><option value="O02">ä¸­å¤®åŒº</option><option value="O03">è¥¿åŒº</option>
<option value="O04">å¤©ç‹å¯ºåŒº</option><option value="O05">æµªé€ŸåŒº</option><option value="O06">ç¦å³¶åŒº</option>
<option value="O07">æ·€å·åŒº</option><option value="O08">æ±æ·€å·åŒº</option><option value="O09">åŸæ±åŒº</option>
</optgroup>
<optgroup label="ãã®ä»–ä¸»è¦éƒ½å¸‚">
<option value="C01">æ¨ªæµœå¸‚</option><option value="C02">å·å´å¸‚</option><option value="C03">ã•ã„ãŸã¾å¸‚</option>
<option value="C04">åå¤å±‹å¸‚</option><option value="C05">ç¦å²¡å¸‚</option><option value="C06">æœ­å¹Œå¸‚</option>
<option value="C07">ä»™å°å¸‚</option><option value="C08">ç¥æˆ¸å¸‚</option><option value="C09">äº¬éƒ½å¸‚</option>
</optgroup>
</select></div>
<div><label>ç¯‰å¹´æ•°å¸¯</label><select id="age">
<option value="0">5å¹´æœªæº€</option><option value="1">5ã€œ10å¹´</option>
<option value="2">10ã€œ20å¹´</option><option value="3">20å¹´è¶…</option>
</select></div>
</div>
<div class="grid2">
<div><label>é–“å–ã‚Š</label><select id="layout">
<option value="0">1K</option><option value="1">1LDK</option>
<option value="2">2LDK</option><option value="3">3LDK</option>
</select></div>
<div><label>ç¾è¡Œæœˆé¡è³ƒæ–™ï¼ˆå††ï¼‰</label><input type="number" id="rent" placeholder="85000" min="10000" max="1000000" step="1000"></div>
</div>
<button onclick="diagnose()">è¨ºæ–­ã™ã‚‹</button>
<div class="result" id="res1"></div>
</div>

<div class="card">
<h2>â‘¡ è¨­å‚™æŠ•è³‡ROIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h2>
<p class="note" style="margin-bottom:12px">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§å‰ææ¡ä»¶ã‚’èª¿æ•´ã—ã¦ãã ã•ã„ã€‚è¨ºæ–­çµæœã®è³ƒæ–™ã‚’åŸºæº–ã«è¨ˆç®—ã—ã¾ã™ã€‚</p>

<h3 style="font-size:.9rem;margin:10px 0 6px">ğŸ”’ IoTã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯</h3>
<div class="slider-row"><label>å°å…¥è²»ç”¨ï¼ˆä¸‡å††ï¼‰<span class="slider-val" id="sv_lock_cost">5</span></label><input type="range" id="lock_cost" min="3" max="15" value="5" step="1" oninput="sv('lock_cost')"></div>
<div class="slider-row"><label>æœˆé¡è³ƒæ–™ã‚¢ãƒƒãƒ—ï¼ˆå††ï¼‰<span class="slider-val" id="sv_lock_up">2000</span></label><input type="range" id="lock_up" min="500" max="5000" value="2000" step="500" oninput="sv('lock_up')"></div>
<div class="slider-row"><label>å…¥å±…ç‡æ”¹å–„ï¼ˆ%ptï¼‰<span class="slider-val" id="sv_lock_occ">2</span></label><input type="range" id="lock_occ" min="0" max="10" value="2" step="1" oninput="sv('lock_occ')"></div>

<h3 style="font-size:.9rem;margin:10px 0 6px">ğŸ“¦ å®…é…ãƒœãƒƒã‚¯ã‚¹</h3>
<div class="slider-row"><label>å°å…¥è²»ç”¨ï¼ˆä¸‡å††ï¼‰<span class="slider-val" id="sv_box_cost">8</span></label><input type="range" id="box_cost" min="3" max="25" value="8" step="1" oninput="sv('box_cost')"></div>
<div class="slider-row"><label>æœˆé¡è³ƒæ–™ã‚¢ãƒƒãƒ—ï¼ˆå††ï¼‰<span class="slider-val" id="sv_box_up">1500</span></label><input type="range" id="box_up" min="500" max="5000" value="1500" step="500" oninput="sv('box_up')"></div>
<div class="slider-row"><label>å…¥å±…ç‡æ”¹å–„ï¼ˆ%ptï¼‰<span class="slider-val" id="sv_box_occ">3</span></label><input type="range" id="box_occ" min="0" max="10" value="3" step="1" oninput="sv('box_occ')"></div>

<h3 style="font-size:.9rem;margin:10px 0 6px">ğŸš¿ æµ´å®¤ä¹¾ç‡¥æ©Ÿ</h3>
<div class="slider-row"><label>å°å…¥è²»ç”¨ï¼ˆä¸‡å††ï¼‰<span class="slider-val" id="sv_bath_cost">12</span></label><input type="range" id="bath_cost" min="8" max="25" value="12" step="1" oninput="sv('bath_cost')"></div>
<div class="slider-row"><label>æœˆé¡è³ƒæ–™ã‚¢ãƒƒãƒ—ï¼ˆå††ï¼‰<span class="slider-val" id="sv_bath_up">3000</span></label><input type="range" id="bath_up" min="1000" max="8000" value="3000" step="500" oninput="sv('bath_up')"></div>
<div class="slider-row"><label>å…¥å±…ç‡æ”¹å–„ï¼ˆ%ptï¼‰<span class="slider-val" id="sv_bath_occ">2</span></label><input type="range" id="bath_occ" min="0" max="10" value="2" step="1" oninput="sv('bath_occ')"></div>

<button class="btn-sub" onclick="calcROI()">ROIè¨ˆç®—</button>
<div class="result" id="res2"></div>
</div>

<div class="card no-print">
<h2>â‘¢ è¨ºæ–­çµæœã‚’å°åˆ·</h2>
<p class="note" style="margin-bottom:12px">ä¸Šè¨˜ã®è¨ºæ–­ãƒ»ROIè¨ˆç®—ã‚’å®Ÿè¡Œå¾Œã€å°åˆ·ãƒœã‚¿ãƒ³ã§å¸³ç¥¨ã¨ã—ã¦å‡ºåŠ›ã§ãã¾ã™ã€‚</p>
<button onclick="window.print()" style="background:#333">ğŸ–¨ å°åˆ· / PDFä¿å­˜</button>
</div>

<footer class="note" style="text-align:center;padding:16px">
Â© 2025 SynLab PropTech â€” PropYield v1.0ï½œæœ¬ãƒ„ãƒ¼ãƒ«ã®æ•°å€¤ã¯å‚è€ƒå€¤ã§ã™ã€‚æŠ•è³‡åˆ¤æ–­ã¯è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚
</footer>
</div>

<script>
var D={};
function r(codes,base){codes.forEach(function(c){D[c]=[];for(var a=0;a<4;a++){D[c][a]=[];for(var l=0;l<4;l++){var ag=[1,.93,.84,.72][a],lo=[1,1.6,2.1,2.7][l];
var m=Math.round(base*ag*lo*100)/100;D[c][a][l]=[+(m*.88).toFixed(2),+m.toFixed(2),+(m*1.15).toFixed(2)]}}})}
var TB=[9.8,11.5,13.2,10.5,12.8,9.2,8.8,8.5,8.0,9.5,10.2,7.8,8.5,8.0,8.2,7.2,7.0,7.3,7.2,6.2,6.0,6.3,8.2];
for(var i=0;i<23;i++)r(['T'+String(i+1).padStart(2,'0')],TB[i]);
[['O01',7.0],['O02',7.2],['O03',7.5],['O04',6.8],['O05',6.5],['O06',7.0],['O07',6.2],['O08',5.5],['O09',5.8]].forEach(function(x){r([x[0]],x[1])});
[['C01',7.0],['C02',7.5],['C03',6.5],['C04',6.0],['C05',6.2],['C06',4.8],['C07',5.2],['C08',6.0],['C09',6.5]].forEach(function(x){r([x[0]],x[1])});

function sv(id){document.getElementById('sv_'+id).textContent=document.getElementById(id).value}

function diagnose(){
 var area=document.getElementById('area').value;
 var age=+document.getElementById('age').value;
 var layout=+document.getElementById('layout').value;
 var rent=+document.getElementById('rent').value;
 if(!rent||rent<10000){alert('ç¾è¡Œè³ƒæ–™ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');return}
 var d=D[area][age][layout];
 var lo=d[0]*10000,med=d[1]*10000,hi=d[2]*10000;
 var gap=((rent-med)/med*100).toFixed(1);
 var gapN=+gap;
 var tag,cls,msg;
 if(gapN<-10){tag='å€¤ä¸Šã’ä½™åœ°ã‚ã‚Š';cls='tag-up';msg='ç›¸å ´ã¨æ¯”è¼ƒã—ã¦å¤§å¹…ã«ä½ã„è³ƒæ–™è¨­å®šã§ã™ã€‚å€¤ä¸Šã’äº¤æ¸‰ã®ä½™åœ°ãŒååˆ†ã«ã‚ã‚Šã¾ã™ã€‚'}
 else if(gapN<-3){tag='ã‚„ã‚„ä½ã„';cls='tag-warn';msg='ç›¸å ´ã‚’ã‚„ã‚„ä¸‹å›ã£ã¦ã„ã¾ã™ã€‚æ›´æ–°æ™‚ã®å°å¹…å€¤ä¸Šã’ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚'}
 else if(gapN<=5){tag='é©æ­£ç¯„å›²';cls='tag-ok';msg='ç¾è¡Œè³ƒæ–™ã¯ç›¸å ´ã®é©æ­£ç¯„å›²å†…ã§ã™ã€‚ç¾çŠ¶ç¶­æŒã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚'}
 else{tag='ç›¸å ´è¶…é';cls='tag-warn';msg='ç›¸å ´ã‚’ä¸Šå›ã£ã¦ã„ã¾ã™ã€‚ç©ºå®¤ãƒªã‚¹ã‚¯ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚'}
 var upside=gapN<0?Math.round(med-rent):0;
 var pct=Math.min(100,Math.max(0,(rent-lo)/(hi-lo)*100));
 var names=['1K','1LDK','2LDK','3LDK'];
 var ages=['5å¹´æœªæº€','5ã€œ10å¹´','10ã€œ20å¹´','20å¹´è¶…'];
 var el=document.getElementById('res1');
 el.style.display='block';
 el.innerHTML='<h3>è¨ºæ–­çµæœ <span class="tag '+cls+'">'+tag+'</span></h3>'+
'<div style="display:flex;flex-wrap:wrap;justify-content:center">'+
'<div class="metric"><div class="val">'+d[1].toFixed(1)+'<small>ä¸‡å††</small></div><div class="lbl">ç›¸å ´ä¸­å¤®å€¤</div></div>'+
'<div class="metric"><div class="val '+(gapN<-3?'up':gapN>5?'down':'neutral')+'">'+(gapN>0?'+':'')+gap+'%</div><div class="lbl">ä¹–é›¢ç‡</div></div>'+
'<div class="metric"><div class="val up">'+(upside>0?'+'+upside.toLocaleString():'â€”')+'<small>'+(upside>0?'å††':'')+'</small></div><div class="lbl">æœˆé¡å€¤ä¸Šã’ä½™åœ°</div></div>'+
'<div class="metric"><div class="val">'+(upside>0?'+'+(upside*12).toLocaleString():'â€”')+'<small>'+(upside>0?'å††':'')+'</small></div><div class="lbl">å¹´é–“å¢—åè¦‹è¾¼</div></div>'+
'</div>'+
'<p style="margin-top:12px;font-size:.85rem">'+msg+'</p>'+
'<div style="margin-top:12px">'+
'<div style="font-size:.8rem;display:flex;justify-content:space-between"><span>ä¸‹é™ '+(lo/10000).toFixed(1)+'ä¸‡</span><span>ä¸­å¤® '+(med/10000).toFixed(1)+'ä¸‡</span><span>ä¸Šé™ '+(hi/10000).toFixed(1)+'ä¸‡</span></div>'+
'<div class="bar-wrap"><div class="bar-fill" style="width:'+pct+'%;background:'+(gapN<-3?'#e94560':gapN>5?'#f39c12':'#2ecc71')+'"></div>'+
'<div style="position:absolute;left:'+pct+'%;top:-2px;width:3px;height:22px;background:#1a1a2e;border-radius:2px" title="ç¾è¡Œè³ƒæ–™"></div></div>'+
'<div style="font-size:.75rem;color:#888">â–² ç¾è¡Œè³ƒæ–™ã®ä½ç½®ï¼ˆ'+names[layout]+'ãƒ»'+ages[age]+'ï¼‰</div>'+
'</div>';
}

function calcROI(){
 var rent=+document.getElementById('rent').value;
 if(!rent||rent<10000){alert('å…ˆã«â‘ ã®è³ƒæ–™è¨ºæ–­ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„');return}
 var items=[
  {name:'IoTã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯',icon:'ğŸ”’',cost:+document.getElementById('lock_cost').value,up:+document.getElementById('lock_up').value,occ:+document.getElementById('lock_occ').value},
  {name:'å®…é…ãƒœãƒƒã‚¯ã‚¹',icon:'ğŸ“¦',cost:+document.getElementById('box_cost').value,up:+document.getElementById('box_up').value,occ:+document.getElementById('box_occ').value},
  {name:'æµ´å®¤ä¹¾ç‡¥æ©Ÿ',icon:'ğŸš¿',cost:+document.getElementById('bath_cost').value,up:+document.getElementById('bath_up').value,occ:+document.getElementById('bath_occ').value}
 ];
 var html='<h3>è¨­å‚™æŠ•è³‡ROIæ¯”è¼ƒ</h3><table><tr><th>è¨­å‚™</th><th>æŠ•è³‡é¡</th><th>æœˆé¡åŠ¹æœ</th><th>å¹´é–“åŠ¹æœ</th><th>å›åå¹´æ•°</th><th>5å¹´ROI</th></tr>';
 items.forEach(function(it){
  var costYen=it.cost*10000;
  var occGain=Math.round(rent*it.occ/100);
  var monthGain=it.up+occGain;
  var yearGain=monthGain*12;
  var payback=yearGain>0?(costYen/yearGain).toFixed(1):'â€”';
  var roi5=yearGain>0?Math.round((yearGain*5-costYen)/costYen*100):'â€”';
  var roiCls=roi5!=='â€”'&&roi5>=100?'up':roi5!=='â€”'&&roi5>=30?'neutral':'down';
  html+='<tr><td>'+it.icon+' '+it.name+'</td><td>'+it.cost+'ä¸‡å††</td><td>+'+monthGain.toLocaleString()+'å††</td><td>+'+yearGain.toLocaleString()+'å††</td><td>'+payback+'å¹´</td><td class="'+roiCls+'">'+roi5+'%</td></tr>';
 });
 var allCost=items.reduce(function(s,i){return s+i.cost},0);
 var allMonth=items.reduce(function(s,i){return s+i.up+Math.round(rent*i.occ/100)},0);
 var allYear=allMonth*12;
 var allPB=allYear>0?(allCost*10000/allYear).toFixed(1):'â€”';
 var allROI=allYear>0?Math.round((allYear*5-allCost*10000)/(allCost*10000)*100):'â€”';
 html+='<tr style="font-weight:700;border-top:2px solid #0f3460"><td>å…¨è¨­å‚™å°å…¥</td><td>'+allCost+'ä¸‡å††</td><td>+'+allMonth.toLocaleString()+'å††</td><td>+'+allYear.toLocaleString()+'å††</td><td>'+allPB+'å¹´</td><td>'+allROI+'%</td></tr></table>';
 var best=items.slice().sort(function(a,b){
  var ra=(a.up+Math.round(rent*a.occ/100))*12*5/(a.cost*10000);
  var rb=(b.up+Math.round(rent*b.occ/100))*12*5/(b.cost*10000);
  return rb-ra;
 })[0];
 html+='<p style="margin-top:12px;font-size:.85rem">ğŸ’¡ <strong>æ¨å¥¨ï¼š</strong>ROIåŠ¹ç‡ãŒæœ€ã‚‚é«˜ã„ã®ã¯<strong>'+best.icon+' '+best.name+'</strong>ã§ã™ã€‚æŠ•è³‡å¯¾åŠ¹æœã‚’é‡è¦–ã™ã‚‹ãªã‚‰ã€ã¾ãšã“ã¡ã‚‰ã‹ã‚‰å°å…¥ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚</p>';
 html+='<p class="note">â€» å…¥å±…ç‡æ”¹å–„åŠ¹æœã¯ç¾è¡Œè³ƒæ–™Ã—æ”¹å–„ãƒã‚¤ãƒ³ãƒˆã§æ¦‚ç®—ã€‚å®Ÿéš›ã®åŠ¹æœã¯ç‰©ä»¶ãƒ»ã‚¨ãƒªã‚¢ã«ã‚ˆã‚Šç•°ãªã‚Šã¾ã™ã€‚</p>';
 var el=document.getElementById('res2');
 el.style.display='block';
 el.innerHTML=html;
}
</script>
</body>
</html>